# Css-长度单位

> 参考：
>
> https://github.com/jawil/blog/issues/21
>
> https://www.w3school.com.cn/cssref/css_units.asp

## 像素长度单位

在设计中，各种长度单位分为**绝对单位**和**相对单位**，前者取决于设备本身且拥有具体的值，后者随着某些属性的变化而变化，没有固定的取值

### PX

CSS像素（CSS pixels）是 CSS 与 JavaScript 中使用的**相对单位**，决定了浏览器中的一切长度；而 PX 为CSS像素的单位

1px 所规定的长度是**相对的**，与设备本身物理像素以及窗口缩放都有关系，而且可以变化：

+ 在同一设备上，1px 所代表的物理像素是可以变化的（如窗口缩放时）——**CSS 像素的相对性其一**
+ 在不同设备上，1px 所代表的物理像素是可以变化的——**CSS 像素相对性其二**

浏览器根据具体情况，调整 1px 与物理像素的比例

---

所以，PX 是一个**抽象概念**，谈论具体长度时要结合具体上下文

### DP

DP 是设备像素（device pixels），也就是物理像素，是**绝对单位**，其单位是 PT

#### 设备

对于一个设备来说，1pt 的长度是**绝对的**，具体值取决于设备本身

> 物理分辨率：是设备宽高上的像素数
>
> 桌面分辨率：与物理分辨率有区别，系统可以修改，但是在与物理分辨率呈1:1时，显示效果最好；所以可以大致认为两者相同

上述 PX 的调整，实则就是调整 px 与 pt 之间的比例关系

#### CSS

在 CSS 中，1pt 是**有取值的绝对单位**，换算如下：
$$
1pt = 1/72inch
$$

$$
1inch = 2.54cm
$$



### DIP

DIP 是设备独立像素（Device independent Pixel），又称逻辑像素，也是**相对单位**，CSS像素 就属于这个范畴；是程序可以使用的**虚拟像素**

可以认为：设备独立像素 = 逻辑像素 = CSS像素

## 像素单位比例

### DPR

DPR 是设备像素比（device pixels ratio），指未缩放状态下，**CSS像素长度 / 物理像素长度** 得到的比例值

注意是长度比例，举例，当 DPR 为：

+  1:1 时，1个物理像素构成1个 CSS 像素
+  2:1 时，4(2*2)个物理像素构成1个 CSS 像素

所以公式为：
$$
1px = (dpr)^2 * 1dp
$$

---

在移动端浏览器中以及某些桌面浏览器中，window对象有一个`devicePixelRatio`属性

它的官方的定义为：设备物理像素和设备独立像素的比例，也就是 `devicePixelRatio = 物理像素 / 独立像素`

通过该属性可以获知当前的 DPR ，但**兼容性欠佳**

### PPI

PPI 是每英寸像素取值(pixels per inch)，确切的说法为像素密度，是**单位物理长度（英寸）内含有的像素数**

所以公式为：
$$
1ppi = 1dp/1inch
$$
当了解显示器大小和分辨率时，可以求得对角线像素数量，再进行计算；ppi 可以用来对高清屏划下一个标准，超过一定数值才被称为高清屏

> 显示器大小：24英寸显示器代表显示器的对角线长度为24英寸（60.96厘米），一般显示器宽高比为16:9，可以根据这两项计算宽高

DPR 与 PPI 相关，一般为 ppi/160 的整数倍

## 其他长度单位

### `%`

> 注意：如果设置百分比的属性是可继承属性，子元素只会继承**计算后的静态数值**，而不是动态百分比数值

> 说明：包含某元素的元素，称为该元素的**包含块**，一般为该元素的直接父元素

+ `width`和`height`
  + 相对于子元素的**包含块的相应属性**：
  + 直接父元素未定义高度，子元素如果不为绝对定位，那么设置百分比，等同于设置为`auto`
  + 根元素`<html>`的包含块为初始包含块，是有定义高度的（视口高度），所以`<html>`可以直接使用百分比
  + `<body>`定义百分比前，需要先设置`<html>`的高度，如`html, body{height:100%;}`

+ `margin`和`padding`：在垂直方向和水平方向都是相对于**包含块的宽度**，而与包含块高度无关

+ `border-radius`：是相对于**自身宽度**，与父元素无关

+ `background-position`：基于**包含块与该元素的尺寸差**，可以为**负值**

+ `font-size`：基于直接父元素的**同属性**

+ `line-height`：基于自身`font-size`

+ `vertical-align`：基于自身`line-height`

### `in`、`cm`、`mm`

分别为英寸（*inch*）、厘米（*centimeter*）、毫米（*millimeter*），都是实际存在的物理学长度单位

### `em`、`rem`、`ex`、`pc`

+ `em` 等于父元素的字体尺寸，即`font-size`属性取值，在设置段落开头空格`text-indent`时非常有用
+ `rem`同上，但相对于根元素的字体尺寸
+  `ex`是一个字体的`x-height` （通常是字体尺寸的一半）
+  `pc`是为派卡（*pica*），是印刷业常常用到的单位；在CSS中：1派卡 = 1/6英寸 = 12点活字

### `ch`

表示`0`这个字符所占用的宽度，如000000为`6ch`；常搭配等宽字体使用

### `deg`、`grad`、`rad`、`turn`

角度（[angle](https://developer.mozilla.org/zh-CN/docs/Web/CSS/angle)）单位：

+ 度，一个圆等于`360 deg`
+ 百分度，一个圆等于`400 grad`
+ 弧度，一个圆等于`2π rad`
+ 圈，一个圆等于`1 turn`



