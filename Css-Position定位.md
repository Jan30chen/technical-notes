# Css-Position定位

> 参考：
>
> https://juejin.im/post/5a954add6fb9a06348538c0d#heading-2
>
> https://www.zhangxinxu.com/wordpress/2018/12/css-position-sticky/
>
> https://developer.mozilla.org/zh-CN/docs/Web/CSS/position

## **static：默认位置**

在一般情况下，我们不需要特别的去声明它

但有时候在继承的情况，**使用`position:static`取消继承**，还原元素定位的默认值

设置为 static 的元素，它始终会处于页面流给予的位置，忽略`top`、 `bottom`、`left` 或 `right` 声明

## **relative：相对定位** 

设置为`relative`的元素：相对于元素原本位置进行偏移的定位

它偏移的`top`、 `bottom`、`left` 或 `right` 的值都以它**原来的位置**为基准偏移，而不管其他元素会怎么样

注意：设置为`relative`属性的元素在原来的位置**仍占据空间**

## **absolute：绝对定位**

设置为`absolute`的元素：

1. 如果它的**最近的祖先容器**设置了 position 属性，并且 position 的属性值为`absolute` 、`relative`或`fix`，那么就会依据最近的祖先容器进行偏移。
2. 如果其父容器没有设置 position 属性，那么偏移是以 body 为依据。

注意：设置为 absolute 属性的元素在标准流中**不占位置**

## **fixed：固定定位**

设置为`fixed`的元素：定位于**相对于浏览器窗口的指定坐标**，始终是以 body 为依据的

注意：设置为 fixed 属性的元素在标准流中**不占位置**。

## sticky：粘性定位（兼容性欠佳）

新增的属性`sticky`： 

设置`sticky`的元素，在**屏幕范围（viewport）时**该元素的位置并不受到定位影响（设置是top、left等属性无效）

当该元素的位置将要**移出偏移范围时**，定位又会变成fixed，根据设置的left、top等属性成固定位置的效果。

sticky属性有以下几个特点：

- 该元素并不脱离文档流，仍然**保留元素原本在文档流中的位置**
- 当元素在容器中被滚动超过指定的偏移值时，元素在容器内固定在指定位置
  - 举例理解：一个粘性定位，偏移量`top:0`的元素：
    - 下拉前，元素离顶端20px，大于偏移量，故元素不偏移
    - 下拉时，元素离顶端相对位置越来越近，直到距离变为负数，小于偏移量，此时依照偏移量将元素固定定位
- 注意，一个sticky元素会“固定”在离它最近的一个拥有“滚动机制”的祖先上（当该祖先的`overflow` 是 `hidden`, `scroll`, `auto`, 或 `overlay`时），即便这个祖先不是最近的真实可滚动祖先
- 当存在多个粘性定位元素时：
  - 父元素相同：偏移量相同的元素会发生重叠
  - 父元素不同：后者会顶替前者的位置（适合做多行吸顶灯导航）

## 总结

| 英文名称 | 中文名称 | 偏移基准元素                               | 是否仍然占据标准流 |
| -------- | -------- | ------------------------------------------ | ------------------ |
| static   | 静态定位 | 不发生偏移                                 | 是                 |
| relative | 相对定位 | 基于元素原本位置                           | 是                 |
| absolute | 绝对定位 | 基于最近的相对或绝对定位的祖先元素，或body | 否                 |
| fixed    | 固定定位 | 基于body                                   | 否                 |
| sticky   | 粘性定位 | 超出范围前不偏移，超出范围后基于body       | 是                 |

